{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"leave-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n    class: \"leave-card\"\n  }, {\n    header: _withCtx(() => _cache[2] || (_cache[2] = [_createElementVNode(\"div\", {\n      class: \"card-header\"\n    }, [_createElementVNode(\"span\", {\n      class: \"header-title\"\n    }, \"请假申请\"), _createElementVNode(\"div\", {\n      class: \"header-desc\"\n    }, \"请填写以下信息提交请假申请\")], -1 /* HOISTED */)])),\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      model: $setup.form,\n      class: \"leave-form\",\n      \"label-position\": \"top\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"请假时间\",\n        class: \"form-item\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n          modelValue: $setup.form.range,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.range = $event),\n          type: \"daterange\",\n          \"range-separator\": \"至\",\n          \"start-placeholder\": \"开始日期\",\n          \"end-placeholder\": \"结束日期\",\n          \"value-format\": \"YYYY-MM-DD\",\n          class: \"date-picker\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"请假原因\",\n        class: \"form-item\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.form.reason,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.reason = $event),\n          type: \"textarea\",\n          rows: 4,\n          placeholder: \"请详细说明请假原因...\",\n          class: \"reason-input\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $setup.applyLeave,\n          class: \"submit-btn\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n            default: _withCtx(() => [_createVNode($setup[\"Check\"])]),\n            _: 1 /* STABLE */\n          }), _cache[3] || (_cache[3] = _createTextVNode(\"提交申请 \"))]),\n          _: 1 /* STABLE */,\n          __: [3]\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"])]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_card, {\n    class: \"leave-history-card\"\n  }, {\n    header: _withCtx(() => _cache[4] || (_cache[4] = [_createElementVNode(\"div\", {\n      class: \"card-header\"\n    }, [_createElementVNode(\"span\", {\n      class: \"header-title\"\n    }, \"请假记录\"), _createElementVNode(\"div\", {\n      class: \"header-desc\"\n    }, \"查看您的请假申请历史\")], -1 /* HOISTED */)])),\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n      data: $setup.leaveList,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"startDate\",\n        label: \"开始日期\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"endDate\",\n        label: \"结束日期\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"reason\",\n        label: \"请假原因\",\n        \"show-overflow-tooltip\": \"\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"状态\",\n        width: \"100\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          type: $setup.getStatusType(scope.row.status),\n          effect: \"light\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString($setup.getStatusText(scope.row.status)), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","default","_component_el_form","model","$setup","form","_component_el_form_item","label","_component_el_date_picker","modelValue","range","$event","type","_","_component_el_input","reason","rows","placeholder","_component_el_button","onClick","applyLeave","_component_el_icon","_createTextVNode","__","_createBlock","_component_el_table","data","leaveList","style","_component_el_table_column","prop","width","scope","_component_el_tag","getStatusType","row","status","effect","_toDisplayString","getStatusText","loading"],"sources":["D:\\web_code\\zxyf\\test_vue\\src\\components\\Leave.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <div class=\"leave-container\">\n    <el-card class=\"leave-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span class=\"header-title\">请假申请</span>\n          <div class=\"header-desc\">请填写以下信息提交请假申请</div>\n        </div>\n      </template>\n      \n      <el-form :model=\"form\" class=\"leave-form\" label-position=\"top\">\n        <el-form-item label=\"请假时间\" class=\"form-item\">\n          <el-date-picker\n            v-model=\"form.range\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            value-format=\"YYYY-MM-DD\"\n            class=\"date-picker\"\n          />\n        </el-form-item>\n        <el-form-item label=\"请假原因\" class=\"form-item\">\n          <el-input\n            v-model=\"form.reason\"\n            type=\"textarea\"\n            :rows=\"4\"\n            placeholder=\"请详细说明请假原因...\"\n            class=\"reason-input\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"applyLeave\" class=\"submit-btn\">\n            <el-icon><Check /></el-icon>提交申请\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <el-card class=\"leave-history-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span class=\"header-title\">请假记录</span>\n          <div class=\"header-desc\">查看您的请假申请历史</div>\n        </div>\n      </template>\n\n      <el-table :data=\"leaveList\" style=\"width: 100%\" v-loading=\"loading\">\n        <el-table-column prop=\"startDate\" label=\"开始日期\" width=\"120\" />\n        <el-table-column prop=\"endDate\" label=\"结束日期\" width=\"120\" />\n        <el-table-column prop=\"reason\" label=\"请假原因\" show-overflow-tooltip />\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n          <template #default=\"scope\">\n            <el-tag :type=\"getStatusType(scope.row.status)\" effect=\"light\">\n              {{ getStatusText(scope.row.status) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { ElMessage } from 'element-plus'\nimport axios from 'axios'\nimport { Check } from '@element-plus/icons-vue'\n\nconst form = ref({ range: [], reason: '' })\nconst leaveList = ref([])\nconst loading = ref(false)\n\nconst applyLeave = async () => {\n  if (!form.value.range.length) {\n    ElMessage.warning('请选择请假时间')\n    return\n  }\n  if (!form.value.reason.trim()) {\n    ElMessage.warning('请填写请假原因')\n    return\n  }\n  \n  try {\n    await axios.post('/leave/apply', {\n      startDate: form.value.range[0],\n      endDate: form.value.range[1],\n      reason: form.value.reason\n    })\n    ElMessage.success('申请已提交')\n    form.value.range = []\n    form.value.reason = ''\n    getMyLeaves()\n  } catch (error) {\n    ElMessage.error('提交失败，请重试')\n  }\n}\n\nconst getMyLeaves = async () => {\n  loading.value = true\n  try {\n    const { data } = await axios.get('/leave/my')\n    leaveList.value = data.data\n  } finally {\n    loading.value = false\n  }\n}\n\nconst getStatusType = (status) => {\n  switch (status) {\n    case 0: return 'warning'\n    case 1: return 'success'\n    case 2: return 'danger'\n    default: return 'info'\n  }\n}\n\nconst getStatusText = (status) => {\n  switch (status) {\n    case 0: return '待审批'\n    case 1: return '已通过'\n    case 2: return '已拒绝'\n    default: return '未知'\n  }\n}\n\nonMounted(getMyLeaves)\n</script>\n\n<style scoped>\n.leave-container {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.leave-card, .leave-history-card {\n  border-radius: 16px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n}\n\n.leave-card:hover, .leave-history-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.08);\n}\n\n.card-header {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.header-title {\n  font-size: 20px;\n  font-weight: bold;\n  color: #409EFF;\n}\n\n.header-desc {\n  font-size: 14px;\n  color: #909399;\n}\n\n.leave-form {\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.form-item {\n  margin-bottom: 24px;\n}\n\n.date-picker {\n  width: 100%;\n}\n\n.reason-input {\n  font-size: 14px;\n}\n\n.reason-input :deep(.el-textarea__inner) {\n  border-radius: 8px;\n  padding: 12px;\n  font-size: 14px;\n  line-height: 1.6;\n  transition: all 0.3s ease;\n}\n\n.reason-input :deep(.el-textarea__inner:focus) {\n  box-shadow: 0 0 0 2px rgba(64, 158, 255, 0.2);\n}\n\n.submit-btn {\n  width: 100%;\n  height: 44px;\n  font-size: 16px;\n  font-weight: bold;\n  border-radius: 22px;\n  background: linear-gradient(135deg, #409EFF 0%, #36D1DC 100%);\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.submit-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(64, 158, 255, 0.3);\n}\n\n.submit-btn :deep(.el-icon) {\n  margin-right: 8px;\n}\n\n:deep(.el-table) {\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n:deep(.el-table th) {\n  background-color: #f5f7fa;\n  font-weight: bold;\n}\n\n:deep(.el-tag) {\n  border-radius: 4px;\n  padding: 0 12px;\n  height: 24px;\n  line-height: 24px;\n  font-weight: bold;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}