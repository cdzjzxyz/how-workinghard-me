{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios';\nimport { ElMessage } from 'element-plus';\nexport default {\n  __name: 'ChangePassword',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const form = ref({\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    });\n    const changePassword = async () => {\n      if (form.value.newPassword !== form.value.confirmPassword) {\n        ElMessage.error('两次输入的新密码不一致');\n        return;\n      }\n      const res = await axios.post('/emps/change-password', form.value);\n      if (res.data.code === 1) {\n        ElMessage.success('密码修改成功');\n      } else {\n        ElMessage.error(res.data.msg || '修改失败');\n      }\n    };\n    const __returned__ = {\n      form,\n      changePassword,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","axios","ElMessage","form","oldPassword","newPassword","confirmPassword","changePassword","value","error","res","post","data","code","success","msg"],"sources":["D:/web_code/zxyf/test_vue/src/components/ChangePassword.vue"],"sourcesContent":["<template>\n  <el-card style=\"width: 800px; margin: 100px auto;\">\n    <el-form :model=\"form\" label-width=\"120px\">\n      <el-form-item label=\"原密码\">\n        <el-input v-model=\"form.oldPassword\" type=\"password\" style=\"width: 400px;\" />\n      </el-form-item>\n      <el-form-item label=\"新密码\">\n        <el-input v-model=\"form.newPassword\" type=\"password\" style=\"width: 400px;\" />\n      </el-form-item>\n      <el-form-item label=\"确认新密码\">\n        <el-input v-model=\"form.confirmPassword\" type=\"password\" style=\"width: 400px;\" />\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"changePassword\">修改密码</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n<script setup>\nimport { ref } from 'vue'\nimport axios from 'axios'\nimport { ElMessage } from 'element-plus'\n\nconst form = ref({\n  oldPassword: '',\n  newPassword: '',\n  confirmPassword: ''\n})\n\nconst changePassword = async () => {\n  if (form.value.newPassword !== form.value.confirmPassword) {\n    ElMessage.error('两次输入的新密码不一致')\n    return\n  }\n  const res = await axios.post('/emps/change-password', form.value)\n  if (res.data.code === 1) {\n    ElMessage.success('密码修改成功')\n  } else {\n    ElMessage.error(res.data.msg || '修改失败')\n  }\n}\n</script>"],"mappings":"AAmBA,SAASA,GAAG,QAAQ,KAAI;AACxB,OAAOC,KAAK,MAAM,OAAM;AACxB,SAASC,SAAS,QAAQ,cAAa;;;;;;;IAEvC,MAAMC,IAAI,GAAGH,GAAG,CAAC;MACfI,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,eAAe,EAAE;IACnB,CAAC;IAED,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAIJ,IAAI,CAACK,KAAK,CAACH,WAAW,KAAKF,IAAI,CAACK,KAAK,CAACF,eAAe,EAAE;QACzDJ,SAAS,CAACO,KAAK,CAAC,aAAa;QAC7B;MACF;MACA,MAAMC,GAAG,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,uBAAuB,EAAER,IAAI,CAACK,KAAK;MAChE,IAAIE,GAAG,CAACE,IAAI,CAACC,IAAI,KAAK,CAAC,EAAE;QACvBX,SAAS,CAACY,OAAO,CAAC,QAAQ;MAC5B,CAAC,MAAM;QACLZ,SAAS,CAACO,KAAK,CAACC,GAAG,CAACE,IAAI,CAACG,GAAG,IAAI,MAAM;MACxC;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}